# 약수의 개수와 덧셈

[프로그래머스](https://programmers.co.kr/learn/courses/30/lessons/77884)

## 요구사항

> 두 정수 `left`와 `right`가 매개변수로 주어집니다. `left`부터 `right`까지의 모든 수들 중에서, 약수의 개수가 짝수인 수는 더하고, 약수의 개수가 홀수인 수는 뺀 수를 return 하도록 solution 함수를 완성해주세요.

## 제출코드

```javascript
function solution(left, right) {
  let arr = [];
  for (let i = left; i <= right; i++) arr.push(i);
  arr = arr.map((num) => {
    let divisors = [];
    for (let j = 1; j <= num; j++) {
      if (num % j === 0) divisors.push(j);
    }
    return divisors.length % 2 === 0 ? num : num * -1;
  });
  return arr.reduce((acc, curr) => acc + curr);
}
```

## 풀이 과정

1. 매개변수로 받은 `left`부터 `right`까지의 정수 리스트를 만들기 위해 `arr`를 빈 배열로 초기화했다.
2. `left`부터 `right`까지의 정수를 반복문을 통해 `arr`에 추가했다.
3. `map` 메소드를 사용해여 `arr` 안의 정수들을 검사한다.
4. 약수들을 담는 `divisors` 리스트를 초기화한다.
5. 반복문을 통해 `j`를 1부터 해당 정수까지 1씩 증가시키면서 해당 정수를 `j`로 나눈 나머지가 0이라면 `j`는 해당 정수의 약수라고 판단하고 `divisors`에 추가한다.
6. 해당 정수의 약수를 모두 찾으면 `divisors`의 길이를 판단한다. 만약 길이가 짝수면 정수를 그대로 반환하고, 홀수라면 정수를 음수로 만들어 반환한다.
7. 마지막으로 `arr`에 담긴 정수들을 모두 더한 값을 반환한다.

## 기억하자

1. `map()` 메소드를 사용할 때 자꾸 원본 배열에 적용된다고 착각하는 경우가 많다. `map` 메소드는 원본 배열은 그대로 두고 새로운 리스트를 반환하므로 반드시 반환값을 저장해야 한다.

2. 어떤 정수의 약수를 구할 때 반복문을 돌리는 것보다 효율적인 알고리즘이 존재한다. 어떤 정수의 제곱근이 정수라면 그 정수의 약수는 반드시 홀수개다. 어떤 정수의 약수는 해당 정수를 나누어 떨어지게 하는 수로, 언제나 쌍으로 존재한다(4 = 1\*4 = 2\*2). 약수의 개수가 홀수라는 뜻은 약수 중 똑같은 값을 가진 쌍이 존재한다는 뜻이고, 이는 곧 해당 정수의 제곱근이 정수라는 것을 의미한다.
